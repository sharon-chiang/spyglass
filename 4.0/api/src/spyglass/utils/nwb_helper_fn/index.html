
<!doctype html>
<html lang="en" class="no-js">
  <head>
    
      <meta charset="utf-8">
      <meta name="viewport" content="width=device-width,initial-scale=1">
      
        <meta name="description" content="Spyglass Documentation">
      
      
        <meta name="author" content="CBroz1">
      
      
        <link rel="canonical" href="https://lorenfranklab.github.io/spyglass/latest/api/src/spyglass/utils/nwb_helper_fn/">
      
      
        <link rel="prev" href="../dj_helper_fn/">
      
      
        <link rel="next" href="../../../../../contribute/">
      
      <link rel="icon" href="../../../../../images/Spyglass.svg">
      <meta name="generator" content="mkdocs-1.4.3, mkdocs-material-9.1.15">
    
    
      
        <title>nwb_helper_fn.py - Spyglass</title>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/stylesheets/main.26e3688c.min.css">
      
        
        <link rel="stylesheet" href="../../../../../assets/stylesheets/palette.ecc896b0.min.css">
      
      

    
    
    
      
        
        
        <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
        <link rel="stylesheet" href="https://fonts.googleapis.com/css?family=Roboto:300,300i,400,400i,700,700i%7CRoboto+Mono:400,400i,700,700i&display=fallback">
        <style>:root{--md-text-font:"Roboto";--md-code-font:"Roboto Mono"}</style>
      
    
    
      <link rel="stylesheet" href="../../../../../assets/_mkdocstrings.css">
    
      <link rel="stylesheet" href="../../../../../stylesheets/extra.css">
    
    <script>__md_scope=new URL("../../../../..",location),__md_hash=e=>[...e].reduce((e,_)=>(e<<5)-e+_.charCodeAt(0),0),__md_get=(e,_=localStorage,t=__md_scope)=>JSON.parse(_.getItem(t.pathname+"."+e)),__md_set=(e,_,t=localStorage,a=__md_scope)=>{try{t.setItem(a.pathname+"."+e,JSON.stringify(_))}catch(e){}}</script>
    
      

    
    
    
  </head>
  
  
    
    
      
    
    
    
    
    <body dir="ltr" data-md-color-scheme="auto" data-md-color-primary="indigo" data-md-color-accent="indigo">
  
    
    
      <script>var palette=__md_get("__palette");if(palette&&"object"==typeof palette.color)for(var key of Object.keys(palette.color))document.body.setAttribute("data-md-color-"+key,palette.color[key])</script>
    
    <input class="md-toggle" data-md-toggle="drawer" type="checkbox" id="__drawer" autocomplete="off">
    <input class="md-toggle" data-md-toggle="search" type="checkbox" id="__search" autocomplete="off">
    <label class="md-overlay" for="__drawer"></label>
    <div data-md-component="skip">
      
        
        <a href="#src.spyglass.utils.nwb_helper_fn" class="md-skip">
          Skip to content
        </a>
      
    </div>
    <div data-md-component="announce">
      
    </div>
    
      <div data-md-color-scheme="default" data-md-component="outdated" hidden>
        
      </div>
    
    
      

  

<header class="md-header md-header--shadow" data-md-component="header">
  <nav class="md-header__inner md-grid" aria-label="Header">
    <a href="../../../../.." title="Spyglass" class="md-header__button md-logo" aria-label="Spyglass" data-md-component="logo">
      
  <img src="../../../../../images/FrankLab.png" alt="logo">

    </a>
    <label class="md-header__button md-icon" for="__drawer">
      <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M3 6h18v2H3V6m0 5h18v2H3v-2m0 5h18v2H3v-2Z"/></svg>
    </label>
    <div class="md-header__title" data-md-component="header-title">
      <div class="md-header__ellipsis">
        <div class="md-header__topic">
          <span class="md-ellipsis">
            Spyglass
          </span>
        </div>
        <div class="md-header__topic" data-md-component="header-topic">
          <span class="md-ellipsis">
            
              nwb_helper_fn.py
            
          </span>
        </div>
      </div>
    </div>
    
      
        <form class="md-header__option" data-md-component="palette">
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: light)" data-md-color-scheme="auto" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to dark mode"  type="radio" name="__palette" id="__palette_1">
            
              <label class="md-header__button md-icon" title="Switch to dark mode" for="__palette_2" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 8a4 4 0 0 0-4 4 4 4 0 0 0 4 4 4 4 0 0 0 4-4 4 4 0 0 0-4-4m0 10a6 6 0 0 1-6-6 6 6 0 0 1 6-6 6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
              </label>
            
          
            
            
            
            <input class="md-option" data-md-color-media="(prefers-color-scheme: slate)" data-md-color-scheme="slate" data-md-color-primary="indigo" data-md-color-accent="indigo"  aria-label="Switch to light mode"  type="radio" name="__palette" id="__palette_2">
            
              <label class="md-header__button md-icon" title="Switch to light mode" for="__palette_1" hidden>
                <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M12 18c-.89 0-1.74-.2-2.5-.55C11.56 16.5 13 14.42 13 12c0-2.42-1.44-4.5-3.5-5.45C10.26 6.2 11.11 6 12 6a6 6 0 0 1 6 6 6 6 0 0 1-6 6m8-9.31V4h-4.69L12 .69 8.69 4H4v4.69L.69 12 4 15.31V20h4.69L12 23.31 15.31 20H20v-4.69L23.31 12 20 8.69Z"/></svg>
              </label>
            
          
        </form>
      
    
    
    
      <label class="md-header__button md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
      </label>
      <div class="md-search" data-md-component="search" role="dialog">
  <label class="md-search__overlay" for="__search"></label>
  <div class="md-search__inner" role="search">
    <form class="md-search__form" name="search">
      <input type="text" class="md-search__input" name="query" aria-label="Search" placeholder="Search" autocapitalize="off" autocorrect="off" autocomplete="off" spellcheck="false" data-md-component="search-query" required>
      <label class="md-search__icon md-icon" for="__search">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M9.5 3A6.5 6.5 0 0 1 16 9.5c0 1.61-.59 3.09-1.56 4.23l.27.27h.79l5 5-1.5 1.5-5-5v-.79l-.27-.27A6.516 6.516 0 0 1 9.5 16 6.5 6.5 0 0 1 3 9.5 6.5 6.5 0 0 1 9.5 3m0 2C7 5 5 7 5 9.5S7 14 9.5 14 14 12 14 9.5 12 5 9.5 5Z"/></svg>
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M20 11v2H8l5.5 5.5-1.42 1.42L4.16 12l7.92-7.92L13.5 5.5 8 11h12Z"/></svg>
      </label>
      <nav class="md-search__options" aria-label="Search">
        
          <a href="javascript:void(0)" class="md-search__icon md-icon" title="Share" aria-label="Share" data-clipboard data-clipboard-text="" data-md-component="search-share" tabindex="-1">
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M18 16.08c-.76 0-1.44.3-1.96.77L8.91 12.7c.05-.23.09-.46.09-.7 0-.24-.04-.47-.09-.7l7.05-4.11c.54.5 1.25.81 2.04.81a3 3 0 0 0 3-3 3 3 0 0 0-3-3 3 3 0 0 0-3 3c0 .24.04.47.09.7L8.04 9.81C7.5 9.31 6.79 9 6 9a3 3 0 0 0-3 3 3 3 0 0 0 3 3c.79 0 1.5-.31 2.04-.81l7.12 4.15c-.05.21-.08.43-.08.66 0 1.61 1.31 2.91 2.92 2.91 1.61 0 2.92-1.3 2.92-2.91A2.92 2.92 0 0 0 18 16.08Z"/></svg>
          </a>
        
        <button type="reset" class="md-search__icon md-icon" title="Clear" aria-label="Clear" tabindex="-1">
          <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M19 6.41 17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12 19 6.41Z"/></svg>
        </button>
      </nav>
      
        <div class="md-search__suggest" data-md-component="search-suggest"></div>
      
    </form>
    <div class="md-search__output">
      <div class="md-search__scrollwrap" data-md-scrollfix>
        <div class="md-search-result" data-md-component="search-result">
          <div class="md-search-result__meta">
            Initializing search
          </div>
          <ol class="md-search-result__list" role="presentation"></ol>
        </div>
      </div>
    </div>
  </div>
</div>
    
    
      <div class="md-header__source">
        <a href="https://github.com/LorenFrankLab/spyglass" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
      </div>
    
  </nav>
  
</header>
    
    <div class="md-container" data-md-component="container">
      
      
        
          
        
      
      <main class="md-main" data-md-component="main">
        <div class="md-main__inner md-grid">
          
            
              
              <div class="md-sidebar md-sidebar--primary" data-md-component="sidebar" data-md-type="navigation" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    


<nav class="md-nav md-nav--primary" aria-label="Navigation" data-md-level="0">
  <label class="md-nav__title" for="__drawer">
    <a href="../../../../.." title="Spyglass" class="md-nav__button md-logo" aria-label="Spyglass" data-md-component="logo">
      
  <img src="../../../../../images/FrankLab.png" alt="logo">

    </a>
    Spyglass
  </label>
  
    <div class="md-nav__source">
      <a href="https://github.com/LorenFrankLab/spyglass" title="Go to repository" class="md-source" data-md-component="source">
  <div class="md-source__icon md-icon">
    
    <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 448 512"><!--! Font Awesome Free 6.4.0 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free (Icons: CC BY 4.0, Fonts: SIL OFL 1.1, Code: MIT License) Copyright 2023 Fonticons, Inc.--><path d="M439.55 236.05 244 40.45a28.87 28.87 0 0 0-40.81 0l-40.66 40.63 51.52 51.52c27.06-9.14 52.68 16.77 43.39 43.68l49.66 49.66c34.23-11.8 61.18 31 35.47 56.69-26.49 26.49-70.21-2.87-56-37.34L240.22 199v121.85c25.3 12.54 22.26 41.85 9.08 55a34.34 34.34 0 0 1-48.55 0c-17.57-17.6-11.07-46.91 11.25-56v-123c-20.8-8.51-24.6-30.74-18.64-45L142.57 101 8.45 235.14a28.86 28.86 0 0 0 0 40.81l195.61 195.6a28.86 28.86 0 0 0 40.8 0l194.69-194.69a28.86 28.86 0 0 0 0-40.81z"/></svg>
  </div>
  <div class="md-source__repository">
    GitHub
  </div>
</a>
    </div>
  
  <ul class="md-nav__list" data-md-scrollfix>
    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../.." class="md-nav__link">
        Home
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_2" >
      
      
      
        <label class="md-nav__link" for="__nav_2" id="__nav_2_label" tabindex="0">
          Installation
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_2">
          <span class="md-nav__icon md-icon"></span>
          Installation
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../installation/" class="md-nav__link">
        Home
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../installation/local/" class="md-nav__link">
        Local
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../installation/production/" class="md-nav__link">
        Productions
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3" >
      
      
      
        <label class="md-nav__link" for="__nav_3" id="__nav_3_label" tabindex="0">
          Tutorials
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3">
          <span class="md-nav__icon md-icon"></span>
          Tutorials
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../notebooks/00_intro/" class="md-nav__link">
        Introduction
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../notebooks/01_spikesorting/" class="md-nav__link">
        Spike Sorting
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../notebooks/02_curation/" class="md-nav__link">
        Curation
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../notebooks/03_lfp/" class="md-nav__link">
        LFP
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_3_5" >
      
      
      
        <label class="md-nav__link" for="__nav_3_5" id="__nav_3_5_label" tabindex="0">
          Position
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_3_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_3_5">
          <span class="md-nav__icon md-icon"></span>
          Position
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../notebooks/4_position_info/" class="md-nav__link">
        Information
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../notebooks/04_Trodes_position/" class="md-nav__link">
        Pipeline
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../notebooks/05_DLC_from_scratch/" class="md-nav__link">
        From Scratch
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../notebooks/06_DLC_from_dir/" class="md-nav__link">
        From Pre-Traine
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../notebooks/07_linearization/" class="md-nav__link">
        Linearization Pipeline
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../notebooks/08_Extract_Mark_indicators/" class="md-nav__link">
        Mark Indicators
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../notebooks/09_Decoding_with_GPUs_on_the_GPU_cluster/" class="md-nav__link">
        GPU
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../notebooks/10_1D_Clusterless_Decoding/" class="md-nav__link">
        1D Clusterless Decoding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../notebooks/11_2D_Clusterless_Decoding/" class="md-nav__link">
        2D Clusterless Decoding
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../notebooks/12_Ripple_Detection/" class="md-nav__link">
        Ripple Detection
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../notebooks/docker_mysql_tutorial/" class="md-nav__link">
        Docker
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../notebooks/Spyglass_kachery_setup/" class="md-nav__link">
        Spyglass Kachery Setup
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4" id="__nav_4_label" tabindex="0">
          API Reference
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_4_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4">
          <span class="md-nav__icon md-icon"></span>
          API Reference
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4_1" id="__nav_4_1_label" tabindex="0">
          src
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="2" aria-labelledby="__nav_4_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4_1">
          <span class="md-nav__icon md-icon"></span>
          src
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_1" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4_1_1" id="__nav_4_1_1_label" tabindex="0">
          spyglass
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="3" aria-labelledby="__nav_4_1_1_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4_1_1">
          <span class="md-nav__icon md-icon"></span>
          spyglass
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_1_1" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_1_1" id="__nav_4_1_1_1_label" tabindex="0">
          cli
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_1_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_1_1">
          <span class="md-nav__icon md-icon"></span>
          cli
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../cli/cli/" class="md-nav__link">
        cli.py
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_1_2" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_1_2" id="__nav_4_1_1_2_label" tabindex="0">
          common
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_1_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_1_2">
          <span class="md-nav__icon md-icon"></span>
          common
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/common_backup/" class="md-nav__link">
        common_backup.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/common_behav/" class="md-nav__link">
        common_behav.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/common_device/" class="md-nav__link">
        common_device.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/common_dio/" class="md-nav__link">
        common_dio.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/common_ephys/" class="md-nav__link">
        common_ephys.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/common_filter/" class="md-nav__link">
        common_filter.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/common_interval/" class="md-nav__link">
        common_interval.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/common_lab/" class="md-nav__link">
        common_lab.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/common_nwbfile/" class="md-nav__link">
        common_nwbfile.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/common_position/" class="md-nav__link">
        common_position.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/common_region/" class="md-nav__link">
        common_region.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/common_ripple/" class="md-nav__link">
        common_ripple.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/common_sensors/" class="md-nav__link">
        common_sensors.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/common_session/" class="md-nav__link">
        common_session.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/common_subject/" class="md-nav__link">
        common_subject.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/common_task/" class="md-nav__link">
        common_task.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/errors/" class="md-nav__link">
        errors.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/populate_all_common/" class="md-nav__link">
        populate_all_common.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_1_2_19" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_1_2_19" id="__nav_4_1_1_2_19_label" tabindex="0">
          prepopulate
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_1_2_19_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_1_2_19">
          <span class="md-nav__icon md-icon"></span>
          prepopulate
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/prepopulate/prepopulate/" class="md-nav__link">
        prepopulate.py
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../common/signal_processing/" class="md-nav__link">
        signal_processing.py
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_1_3" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_1_3" id="__nav_4_1_1_3_label" tabindex="0">
          data_import
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_1_3_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_1_3">
          <span class="md-nav__icon md-icon"></span>
          data_import
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data_import/insert_sessions/" class="md-nav__link">
        insert_sessions.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../data_import/storage_dirs/" class="md-nav__link">
        storage_dirs.py
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_1_4" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_1_4" id="__nav_4_1_1_4_label" tabindex="0">
          decoding
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_1_4_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_1_4">
          <span class="md-nav__icon md-icon"></span>
          decoding
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../decoding/clusterless/" class="md-nav__link">
        clusterless.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../decoding/core/" class="md-nav__link">
        core.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../decoding/dj_decoder_conversion/" class="md-nav__link">
        dj_decoder_conversion.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../decoding/sorted_spikes/" class="md-nav__link">
        sorted_spikes.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../decoding/visualization/" class="md-nav__link">
        visualization.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../decoding/visualization_1D_view/" class="md-nav__link">
        visualization_1D_view.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../decoding/visualization_2D_view/" class="md-nav__link">
        visualization_2D_view.py
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_1_5" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_1_5" id="__nav_4_1_1_5_label" tabindex="0">
          figurl_views
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_1_5_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_1_5">
          <span class="md-nav__icon md-icon"></span>
          figurl_views
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../figurl_views/SpikeSortingRecordingView/" class="md-nav__link">
        SpikeSortingRecordingView.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../figurl_views/SpikeSortingView/" class="md-nav__link">
        SpikeSortingView.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../figurl_views/prepare_spikesortingview_data/" class="md-nav__link">
        prepare_spikesortingview_data.py
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_1_6" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_1_6" id="__nav_4_1_1_6_label" tabindex="0">
          lfp
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_1_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_1_6">
          <span class="md-nav__icon md-icon"></span>
          lfp
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_1_6_1" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_1_6_1" id="__nav_4_1_1_6_1_label" tabindex="0">
          v1
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_1_6_1_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_1_6_1">
          <span class="md-nav__icon md-icon"></span>
          v1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lfp/v1/lfp/" class="md-nav__link">
        lfp.py
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_1_7" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_1_7" id="__nav_4_1_1_7_label" tabindex="0">
          lock
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_1_7_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_1_7">
          <span class="md-nav__icon md-icon"></span>
          lock
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../lock/file_lock/" class="md-nav__link">
        file_lock.py
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_1_8" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_1_8" id="__nav_4_1_1_8_label" tabindex="0">
          position
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_1_8_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_1_8">
          <span class="md-nav__icon md-icon"></span>
          position
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../position/position_merge/" class="md-nav__link">
        position_merge.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_1_8_2" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_1_8_2" id="__nav_4_1_1_8_2_label" tabindex="0">
          v1
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="5" aria-labelledby="__nav_4_1_1_8_2_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_1_8_2">
          <span class="md-nav__icon md-icon"></span>
          v1
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../position/v1/dlc_decorators/" class="md-nav__link">
        dlc_decorators.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../position/v1/dlc_reader/" class="md-nav__link">
        dlc_reader.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../position/v1/dlc_utils/" class="md-nav__link">
        dlc_utils.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../position/v1/position_dlc_centroid/" class="md-nav__link">
        position_dlc_centroid.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../position/v1/position_dlc_cohort/" class="md-nav__link">
        position_dlc_cohort.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../position/v1/position_dlc_model/" class="md-nav__link">
        position_dlc_model.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../position/v1/position_dlc_orient/" class="md-nav__link">
        position_dlc_orient.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../position/v1/position_dlc_pose_estimation/" class="md-nav__link">
        position_dlc_pose_estimation.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../position/v1/position_dlc_position/" class="md-nav__link">
        position_dlc_position.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../position/v1/position_dlc_project/" class="md-nav__link">
        position_dlc_project.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../position/v1/position_dlc_selection/" class="md-nav__link">
        position_dlc_selection.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../position/v1/position_dlc_training/" class="md-nav__link">
        position_dlc_training.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../position/v1/position_trodes_position/" class="md-nav__link">
        position_trodes_position.py
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../settings/" class="md-nav__link">
        settings.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_1_10" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_1_10" id="__nav_4_1_1_10_label" tabindex="0">
          sharing
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_1_10_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_1_10">
          <span class="md-nav__icon md-icon"></span>
          sharing
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../sharing/sharing_kachery/" class="md-nav__link">
        sharing_kachery.py
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_1_11" >
      
      
      
        <label class="md-nav__link" for="__nav_4_1_1_11" id="__nav_4_1_1_11_label" tabindex="0">
          spikesorting
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_1_11_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_4_1_1_11">
          <span class="md-nav__icon md-icon"></span>
          spikesorting
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../spikesorting/curation_figurl/" class="md-nav__link">
        curation_figurl.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../spikesorting/merged_sorting_extractor/" class="md-nav__link">
        merged_sorting_extractor.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../spikesorting/sortingview/" class="md-nav__link">
        sortingview.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../spikesorting/sortingview_helper_fn/" class="md-nav__link">
        sortingview_helper_fn.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../spikesorting/spikesorting_artifact/" class="md-nav__link">
        spikesorting_artifact.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../spikesorting/spikesorting_curation/" class="md-nav__link">
        spikesorting_curation.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../spikesorting/spikesorting_recording/" class="md-nav__link">
        spikesorting_recording.py
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../spikesorting/spikesorting_sorting/" class="md-nav__link">
        spikesorting_sorting.py
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
            
              
  
  
    
  
  
    
    <li class="md-nav__item md-nav__item--active md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_4_1_1_12" checked>
      
      
      
        <label class="md-nav__link" for="__nav_4_1_1_12" id="__nav_4_1_1_12_label" tabindex="0">
          utils
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="4" aria-labelledby="__nav_4_1_1_12_label" aria-expanded="true">
        <label class="md-nav__title" for="__nav_4_1_1_12">
          <span class="md-nav__icon md-icon"></span>
          utils
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../dj_helper_fn/" class="md-nav__link">
        dj_helper_fn.py
      </a>
    </li>
  

            
          
            
              
  
  
    
  
  
    <li class="md-nav__item md-nav__item--active">
      
      <input class="md-nav__toggle md-toggle" type="checkbox" id="__toc">
      
      
      
        <label class="md-nav__link md-nav__link--active" for="__toc">
          nwb_helper_fn.py
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <a href="./" class="md-nav__link md-nav__link--active">
        nwb_helper_fn.py
      </a>
      
        

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn" class="md-nav__link">
    src.spyglass.utils.nwb_helper_fn
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_nwb_file" class="md-nav__link">
    get_nwb_file()
  </a>
  
    <nav class="md-nav" aria-label="get_nwb_file()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_nwb_file--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_nwb_file--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_config" class="md-nav__link">
    get_config()
  </a>
  
    <nav class="md-nav" aria-label="get_config()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_config--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_data_interface" class="md-nav__link">
    get_data_interface()
  </a>
  
    <nav class="md-nav" aria-label="get_data_interface()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_data_interface--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_data_interface--warns" class="md-nav__link">
    Warns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_data_interface--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_raw_eseries" class="md-nav__link">
    get_raw_eseries()
  </a>
  
    <nav class="md-nav" aria-label="get_raw_eseries()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_raw_eseries--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_raw_eseries--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.estimate_sampling_rate" class="md-nav__link">
    estimate_sampling_rate()
  </a>
  
    <nav class="md-nav" aria-label="estimate_sampling_rate()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.estimate_sampling_rate--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.estimate_sampling_rate--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_valid_intervals" class="md-nav__link">
    get_valid_intervals()
  </a>
  
    <nav class="md-nav" aria-label="get_valid_intervals()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_valid_intervals--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_valid_intervals--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_electrode_indices" class="md-nav__link">
    get_electrode_indices()
  </a>
  
    <nav class="md-nav" aria-label="get_electrode_indices()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_electrode_indices--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_electrode_indices--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_all_spatial_series" class="md-nav__link">
    get_all_spatial_series()
  </a>
  
    <nav class="md-nav" aria-label="get_all_spatial_series()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_all_spatial_series--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_all_spatial_series--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_nwb_copy_filename" class="md-nav__link">
    get_nwb_copy_filename()
  </a>
  
</li>
      
    </ul>
  
</nav>
      
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../../contribute/" class="md-nav__link">
        How to Contribute
      </a>
    </li>
  

    
      
      
      

  
  
  
    
    <li class="md-nav__item md-nav__item--nested">
      
      
      
      
      <input class="md-nav__toggle md-toggle " type="checkbox" id="__nav_6" >
      
      
      
        <label class="md-nav__link" for="__nav_6" id="__nav_6_label" tabindex="0">
          Miscellaneous
          <span class="md-nav__icon md-icon"></span>
        </label>
      
      <nav class="md-nav" data-md-level="1" aria-labelledby="__nav_6_label" aria-expanded="false">
        <label class="md-nav__title" for="__nav_6">
          <span class="md-nav__icon md-icon"></span>
          Miscellaneous
        </label>
        <ul class="md-nav__list" data-md-scrollfix>
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../misc/figurl_views/" class="md-nav__link">
        FigURL
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../misc/session_groups/" class="md-nav__link">
        Session Groups
      </a>
    </li>
  

            
          
            
              
  
  
  
    <li class="md-nav__item">
      <a href="../../../../../misc/insert_data/" class="md-nav__link">
        Insert Data
      </a>
    </li>
  

            
          
        </ul>
      </nav>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../../CHANGELOG/" class="md-nav__link">
        Change Log
      </a>
    </li>
  

    
      
      
      

  
  
  
    <li class="md-nav__item">
      <a href="../../../../../LICENSE/" class="md-nav__link">
        Copyright
      </a>
    </li>
  

    
  </ul>
</nav>
                  </div>
                </div>
              </div>
            
            
              
              <div class="md-sidebar md-sidebar--secondary" data-md-component="sidebar" data-md-type="toc" >
                <div class="md-sidebar__scrollwrap">
                  <div class="md-sidebar__inner">
                    

<nav class="md-nav md-nav--secondary" aria-label="Table of contents">
  
  
  
  
    <label class="md-nav__title" for="__toc">
      <span class="md-nav__icon md-icon"></span>
      Table of contents
    </label>
    <ul class="md-nav__list" data-md-component="toc" data-md-scrollfix>
      
        <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn" class="md-nav__link">
    src.spyglass.utils.nwb_helper_fn
  </a>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_nwb_file" class="md-nav__link">
    get_nwb_file()
  </a>
  
    <nav class="md-nav" aria-label="get_nwb_file()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_nwb_file--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_nwb_file--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_config" class="md-nav__link">
    get_config()
  </a>
  
    <nav class="md-nav" aria-label="get_config()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_config--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_data_interface" class="md-nav__link">
    get_data_interface()
  </a>
  
    <nav class="md-nav" aria-label="get_data_interface()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_data_interface--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_data_interface--warns" class="md-nav__link">
    Warns
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_data_interface--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_raw_eseries" class="md-nav__link">
    get_raw_eseries()
  </a>
  
    <nav class="md-nav" aria-label="get_raw_eseries()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_raw_eseries--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_raw_eseries--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.estimate_sampling_rate" class="md-nav__link">
    estimate_sampling_rate()
  </a>
  
    <nav class="md-nav" aria-label="estimate_sampling_rate()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.estimate_sampling_rate--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.estimate_sampling_rate--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_valid_intervals" class="md-nav__link">
    get_valid_intervals()
  </a>
  
    <nav class="md-nav" aria-label="get_valid_intervals()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_valid_intervals--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_valid_intervals--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_electrode_indices" class="md-nav__link">
    get_electrode_indices()
  </a>
  
    <nav class="md-nav" aria-label="get_electrode_indices()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_electrode_indices--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_electrode_indices--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_all_spatial_series" class="md-nav__link">
    get_all_spatial_series()
  </a>
  
    <nav class="md-nav" aria-label="get_all_spatial_series()">
      <ul class="md-nav__list">
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_all_spatial_series--parameters" class="md-nav__link">
    Parameters
  </a>
  
</li>
        
          <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_all_spatial_series--returns" class="md-nav__link">
    Returns
  </a>
  
</li>
        
      </ul>
    </nav>
  
</li>
      
        <li class="md-nav__item">
  <a href="#src.spyglass.utils.nwb_helper_fn.get_nwb_copy_filename" class="md-nav__link">
    get_nwb_copy_filename()
  </a>
  
</li>
      
    </ul>
  
</nav>
                  </div>
                </div>
              </div>
            
          
          
            <div class="md-content" data-md-component="content">
              <article class="md-content__inner md-typeset">
                
                  


  <h1>nwb_helper_fn.py</h1>

<div class="doc doc-object doc-module">


<a id="src.spyglass.utils.nwb_helper_fn"></a>
  <div class="doc doc-contents first">
  
      <p>NWB helper functions for finding processing modules and data interfaces.</p>

  

  <div class="doc doc-children">







<div class="doc doc-object doc-function">



<h2 id="src.spyglass.utils.nwb_helper_fn.get_nwb_file" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_nwb_file</span><span class="p">(</span><span class="n">nwb_file_path</span><span class="p">)</span></code>

<a href="#src.spyglass.utils.nwb_helper_fn.get_nwb_file" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
  
      <p>Return an NWBFile object with the given file path in read mode.
   If the file is not found locally, this will check if it has been shared with kachery and if so, download it and open it.</p>
<h4 id="src.spyglass.utils.nwb_helper_fn.get_nwb_file--parameters">Parameters<a class="headerlink" href="#src.spyglass.utils.nwb_helper_fn.get_nwb_file--parameters" title="Permanent link">&para;</a></h4>

<details class="nwb_file_path-" open>
  <summary>str</summary>
  <p>Path to the NWB file.</p>
</details>      <h4 id="src.spyglass.utils.nwb_helper_fn.get_nwb_file--returns">Returns<a class="headerlink" href="#src.spyglass.utils.nwb_helper_fn.get_nwb_file--returns" title="Permanent link">&para;</a></h4>

<details class="nwbfile-" open>
  <summary>pynwb.NWBFile</summary>
  <p>NWB file object for the given path opened in read mode.</p>
</details>
      <details class="quote">
        <summary>Source code in <code>src/spyglass/utils/nwb_helper_fn.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">22</span>
<span class="normal">23</span>
<span class="normal">24</span>
<span class="normal">25</span>
<span class="normal">26</span>
<span class="normal">27</span>
<span class="normal">28</span>
<span class="normal">29</span>
<span class="normal">30</span>
<span class="normal">31</span>
<span class="normal">32</span>
<span class="normal">33</span>
<span class="normal">34</span>
<span class="normal">35</span>
<span class="normal">36</span>
<span class="normal">37</span>
<span class="normal">38</span>
<span class="normal">39</span>
<span class="normal">40</span>
<span class="normal">41</span>
<span class="normal">42</span>
<span class="normal">43</span>
<span class="normal">44</span>
<span class="normal">45</span>
<span class="normal">46</span>
<span class="normal">47</span>
<span class="normal">48</span>
<span class="normal">49</span>
<span class="normal">50</span>
<span class="normal">51</span>
<span class="normal">52</span>
<span class="normal">53</span>
<span class="normal">54</span>
<span class="normal">55</span>
<span class="normal">56</span>
<span class="normal">57</span>
<span class="normal">58</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_nwb_file</span><span class="p">(</span><span class="n">nwb_file_path</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return an NWBFile object with the given file path in read mode.</span>
<span class="sd">       If the file is not found locally, this will check if it has been shared with kachery and if so, download it and open it.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    nwb_file_path : str</span>
<span class="sd">        Path to the NWB file.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    nwbfile : pynwb.NWBFile</span>
<span class="sd">        NWB file object for the given path opened in read mode.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">_</span><span class="p">,</span> <span class="n">nwbfile</span> <span class="o">=</span> <span class="n">__open_nwb_files</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">nwb_file_path</span><span class="p">,</span> <span class="p">(</span><span class="kc">None</span><span class="p">,</span> <span class="kc">None</span><span class="p">))</span>
    <span class="n">nwb_uri</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="n">nwb_raw_uri</span> <span class="o">=</span> <span class="kc">None</span>
    <span class="k">if</span> <span class="n">nwbfile</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="c1"># check to see if the file exists</span>
        <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">nwb_file_path</span><span class="p">):</span>
            <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;NWB file </span><span class="si">{</span><span class="n">nwb_file_path</span><span class="si">}</span><span class="s2"> does not exist locally; checking kachery&quot;</span><span class="p">)</span>
            <span class="c1"># first try the analysis files</span>
            <span class="kn">from</span> <span class="nn">..sharing.sharing_kachery</span> <span class="kn">import</span> <span class="n">AnalysisNwbfileKachery</span>

            <span class="c1"># the download functions assume just the filename, so we need to get that from the path</span>
            <span class="k">if</span> <span class="ow">not</span> <span class="n">AnalysisNwbfileKachery</span><span class="o">.</span><span class="n">download_file</span><span class="p">(</span>
                <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">basename</span><span class="p">(</span><span class="n">nwb_file_path</span><span class="p">)</span>
            <span class="p">):</span>
                <span class="k">return</span> <span class="kc">None</span>
        <span class="c1"># now open the file</span>
        <span class="n">io</span> <span class="o">=</span> <span class="n">pynwb</span><span class="o">.</span><span class="n">NWBHDF5IO</span><span class="p">(</span>
            <span class="n">path</span><span class="o">=</span><span class="n">nwb_file_path</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;r&quot;</span><span class="p">,</span> <span class="n">load_namespaces</span><span class="o">=</span><span class="kc">True</span>
        <span class="p">)</span>  <span class="c1"># keep file open</span>
        <span class="n">nwbfile</span> <span class="o">=</span> <span class="n">io</span><span class="o">.</span><span class="n">read</span><span class="p">()</span>
        <span class="n">__open_nwb_files</span><span class="p">[</span><span class="n">nwb_file_path</span><span class="p">]</span> <span class="o">=</span> <span class="p">(</span><span class="n">io</span><span class="p">,</span> <span class="n">nwbfile</span><span class="p">)</span>

    <span class="k">return</span> <span class="n">nwbfile</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>






<div class="doc doc-object doc-function">



<h2 id="src.spyglass.utils.nwb_helper_fn.get_config" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_config</span><span class="p">(</span><span class="n">nwb_file_path</span><span class="p">)</span></code>

<a href="#src.spyglass.utils.nwb_helper_fn.get_config" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
  
      <p>Return a dictionary of config settings for the given NWB file.
If the file does not exist, return an empty dict.
Parameters</p>
<hr />

<details class="nwb_file_path-" open>
  <summary>str</summary>
  <p>Absolute path to the NWB file.</p>
</details>      <h4 id="src.spyglass.utils.nwb_helper_fn.get_config--returns">Returns<a class="headerlink" href="#src.spyglass.utils.nwb_helper_fn.get_config--returns" title="Permanent link">&para;</a></h4>

<details class="d-" open>
  <summary>dict</summary>
  <p>Dictionary of configuration settings loaded from the corresponding YAML file</p>
</details>
      <details class="quote">
        <summary>Source code in <code>src/spyglass/utils/nwb_helper_fn.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">61</span>
<span class="normal">62</span>
<span class="normal">63</span>
<span class="normal">64</span>
<span class="normal">65</span>
<span class="normal">66</span>
<span class="normal">67</span>
<span class="normal">68</span>
<span class="normal">69</span>
<span class="normal">70</span>
<span class="normal">71</span>
<span class="normal">72</span>
<span class="normal">73</span>
<span class="normal">74</span>
<span class="normal">75</span>
<span class="normal">76</span>
<span class="normal">77</span>
<span class="normal">78</span>
<span class="normal">79</span>
<span class="normal">80</span>
<span class="normal">81</span>
<span class="normal">82</span>
<span class="normal">83</span>
<span class="normal">84</span>
<span class="normal">85</span>
<span class="normal">86</span>
<span class="normal">87</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_config</span><span class="p">(</span><span class="n">nwb_file_path</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return a dictionary of config settings for the given NWB file.</span>
<span class="sd">    If the file does not exist, return an empty dict.</span>
<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    nwb_file_path : str</span>
<span class="sd">        Absolute path to the NWB file.</span>
<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    d : dict</span>
<span class="sd">        Dictionary of configuration settings loaded from the corresponding YAML file</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="n">nwb_file_path</span> <span class="ow">in</span> <span class="n">__configs</span><span class="p">:</span>  <span class="c1"># load from cache if exists</span>
        <span class="k">return</span> <span class="n">__configs</span><span class="p">[</span><span class="n">nwb_file_path</span><span class="p">]</span>

    <span class="n">p</span> <span class="o">=</span> <span class="n">Path</span><span class="p">(</span><span class="n">nwb_file_path</span><span class="p">)</span>
    <span class="c1"># NOTE use p.stem[:-1] to remove the underscore that was added to the file</span>
    <span class="n">config_path</span> <span class="o">=</span> <span class="n">p</span><span class="o">.</span><span class="n">parent</span> <span class="o">/</span> <span class="p">(</span><span class="n">p</span><span class="o">.</span><span class="n">stem</span><span class="p">[:</span><span class="o">-</span><span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="s2">&quot;_spyglass_config.yaml&quot;</span><span class="p">)</span>
    <span class="k">if</span> <span class="ow">not</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">exists</span><span class="p">(</span><span class="n">config_path</span><span class="p">):</span>
        <span class="nb">print</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;No config found at file path </span><span class="si">{</span><span class="n">config_path</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">return</span> <span class="nb">dict</span><span class="p">()</span>
    <span class="k">with</span> <span class="nb">open</span><span class="p">(</span><span class="n">config_path</span><span class="p">,</span> <span class="s2">&quot;r&quot;</span><span class="p">)</span> <span class="k">as</span> <span class="n">stream</span><span class="p">:</span>
        <span class="n">d</span> <span class="o">=</span> <span class="n">yaml</span><span class="o">.</span><span class="n">safe_load</span><span class="p">(</span><span class="n">stream</span><span class="p">)</span>

    <span class="c1"># TODO write a JSON schema for the yaml file and validate the yaml file</span>
    <span class="n">__configs</span><span class="p">[</span><span class="n">nwb_file_path</span><span class="p">]</span> <span class="o">=</span> <span class="n">d</span>  <span class="c1"># store in cache</span>
    <span class="k">return</span> <span class="n">d</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>






<div class="doc doc-object doc-function">



<h2 id="src.spyglass.utils.nwb_helper_fn.get_data_interface" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_data_interface</span><span class="p">(</span><span class="n">nwbfile</span><span class="p">,</span> <span class="n">data_interface_name</span><span class="p">,</span> <span class="n">data_interface_class</span><span class="o">=</span><span class="kc">None</span><span class="p">)</span></code>

<a href="#src.spyglass.utils.nwb_helper_fn.get_data_interface" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
  
      <p>Search for a specified NWBDataInterface or DynamicTable in the processing modules of an NWB file.</p>
<h4 id="src.spyglass.utils.nwb_helper_fn.get_data_interface--parameters">Parameters<a class="headerlink" href="#src.spyglass.utils.nwb_helper_fn.get_data_interface--parameters" title="Permanent link">&para;</a></h4>

<details class="nwbfile-" open>
  <summary>pynwb.NWBFile</summary>
  <p>The NWB file object to search in.</p>
</details>
<details class="data_interface_name-" open>
  <summary>str</summary>
  <p>The name of the NWBDataInterface or DynamicTable to search for.</p>
</details>
<details class="data_interface_class-" open>
  <summary>type, optional</summary>
  <p>The class (or superclass) to search for. This argument helps to prevent accessing an object with the same
name but the incorrect type. Default: no restriction.</p>
</details>      <h4 id="src.spyglass.utils.nwb_helper_fn.get_data_interface--warns">Warns<a class="headerlink" href="#src.spyglass.utils.nwb_helper_fn.get_data_interface--warns" title="Permanent link">&para;</a></h4>
<p>UserWarning
    If multiple NWBDataInterface and DynamicTable objects with the matching name are found.</p>
<h4 id="src.spyglass.utils.nwb_helper_fn.get_data_interface--returns">Returns<a class="headerlink" href="#src.spyglass.utils.nwb_helper_fn.get_data_interface--returns" title="Permanent link">&para;</a></h4>

<details class="data_interface-" open>
  <summary>NWBDataInterface</summary>
  <p>The data interface object with the given name, or None if not found.</p>
</details>
      <details class="quote">
        <summary>Source code in <code>src/spyglass/utils/nwb_helper_fn.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal"> 96</span>
<span class="normal"> 97</span>
<span class="normal"> 98</span>
<span class="normal"> 99</span>
<span class="normal">100</span>
<span class="normal">101</span>
<span class="normal">102</span>
<span class="normal">103</span>
<span class="normal">104</span>
<span class="normal">105</span>
<span class="normal">106</span>
<span class="normal">107</span>
<span class="normal">108</span>
<span class="normal">109</span>
<span class="normal">110</span>
<span class="normal">111</span>
<span class="normal">112</span>
<span class="normal">113</span>
<span class="normal">114</span>
<span class="normal">115</span>
<span class="normal">116</span>
<span class="normal">117</span>
<span class="normal">118</span>
<span class="normal">119</span>
<span class="normal">120</span>
<span class="normal">121</span>
<span class="normal">122</span>
<span class="normal">123</span>
<span class="normal">124</span>
<span class="normal">125</span>
<span class="normal">126</span>
<span class="normal">127</span>
<span class="normal">128</span>
<span class="normal">129</span>
<span class="normal">130</span>
<span class="normal">131</span>
<span class="normal">132</span>
<span class="normal">133</span>
<span class="normal">134</span>
<span class="normal">135</span>
<span class="normal">136</span>
<span class="normal">137</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_data_interface</span><span class="p">(</span><span class="n">nwbfile</span><span class="p">,</span> <span class="n">data_interface_name</span><span class="p">,</span> <span class="n">data_interface_class</span><span class="o">=</span><span class="kc">None</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Search for a specified NWBDataInterface or DynamicTable in the processing modules of an NWB file.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    nwbfile : pynwb.NWBFile</span>
<span class="sd">        The NWB file object to search in.</span>
<span class="sd">    data_interface_name : str</span>
<span class="sd">        The name of the NWBDataInterface or DynamicTable to search for.</span>
<span class="sd">    data_interface_class : type, optional</span>
<span class="sd">        The class (or superclass) to search for. This argument helps to prevent accessing an object with the same</span>
<span class="sd">        name but the incorrect type. Default: no restriction.</span>

<span class="sd">    Warns</span>
<span class="sd">    -----</span>
<span class="sd">    UserWarning</span>
<span class="sd">        If multiple NWBDataInterface and DynamicTable objects with the matching name are found.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    data_interface : NWBDataInterface</span>
<span class="sd">        The data interface object with the given name, or None if not found.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">module</span> <span class="ow">in</span> <span class="n">nwbfile</span><span class="o">.</span><span class="n">processing</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="n">match</span> <span class="o">=</span> <span class="n">module</span><span class="o">.</span><span class="n">data_interfaces</span><span class="o">.</span><span class="n">get</span><span class="p">(</span><span class="n">data_interface_name</span><span class="p">,</span> <span class="kc">None</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">match</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span><span class="p">:</span>
            <span class="k">if</span> <span class="n">data_interface_class</span> <span class="ow">is</span> <span class="ow">not</span> <span class="kc">None</span> <span class="ow">and</span> <span class="ow">not</span> <span class="nb">isinstance</span><span class="p">(</span>
                <span class="n">match</span><span class="p">,</span> <span class="n">data_interface_class</span>
            <span class="p">):</span>
                <span class="k">continue</span>
            <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">match</span><span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mi">1</span><span class="p">:</span>
        <span class="n">warnings</span><span class="o">.</span><span class="n">warn</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Multiple data interfaces with name &#39;</span><span class="si">{</span><span class="n">data_interface_name</span><span class="si">}</span><span class="s2">&#39; &quot;</span>
            <span class="sa">f</span><span class="s2">&quot;found in NWBFile with identifier </span><span class="si">{</span><span class="n">nwbfile</span><span class="o">.</span><span class="n">identifier</span><span class="si">}</span><span class="s2">. Using the first one found. &quot;</span>
            <span class="s2">&quot;Use the data_interface_class argument to restrict the search.&quot;</span>
        <span class="p">)</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">ret</span><span class="p">)</span> <span class="o">&gt;=</span> <span class="mi">1</span><span class="p">:</span>
        <span class="k">return</span> <span class="n">ret</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>






<div class="doc doc-object doc-function">



<h2 id="src.spyglass.utils.nwb_helper_fn.get_raw_eseries" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_raw_eseries</span><span class="p">(</span><span class="n">nwbfile</span><span class="p">)</span></code>

<a href="#src.spyglass.utils.nwb_helper_fn.get_raw_eseries" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
  
      <p>Return all ElectricalSeries in the acquisition group of an NWB file.</p>
<p>ElectricalSeries found within LFP objects in the acquisition will also be returned.</p>
<h4 id="src.spyglass.utils.nwb_helper_fn.get_raw_eseries--parameters">Parameters<a class="headerlink" href="#src.spyglass.utils.nwb_helper_fn.get_raw_eseries--parameters" title="Permanent link">&para;</a></h4>

<details class="nwbfile-" open>
  <summary>pynwb.NWBFile</summary>
  <p>The NWB file object to search in.</p>
</details>      <h4 id="src.spyglass.utils.nwb_helper_fn.get_raw_eseries--returns">Returns<a class="headerlink" href="#src.spyglass.utils.nwb_helper_fn.get_raw_eseries--returns" title="Permanent link">&para;</a></h4>

<details class="ret-" open>
  <summary>list</summary>
  <p>A list of all ElectricalSeries in the acquisition group of an NWB file</p>
</details>
      <details class="quote">
        <summary>Source code in <code>src/spyglass/utils/nwb_helper_fn.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">140</span>
<span class="normal">141</span>
<span class="normal">142</span>
<span class="normal">143</span>
<span class="normal">144</span>
<span class="normal">145</span>
<span class="normal">146</span>
<span class="normal">147</span>
<span class="normal">148</span>
<span class="normal">149</span>
<span class="normal">150</span>
<span class="normal">151</span>
<span class="normal">152</span>
<span class="normal">153</span>
<span class="normal">154</span>
<span class="normal">155</span>
<span class="normal">156</span>
<span class="normal">157</span>
<span class="normal">158</span>
<span class="normal">159</span>
<span class="normal">160</span>
<span class="normal">161</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_raw_eseries</span><span class="p">(</span><span class="n">nwbfile</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Return all ElectricalSeries in the acquisition group of an NWB file.</span>

<span class="sd">    ElectricalSeries found within LFP objects in the acquisition will also be returned.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    nwbfile : pynwb.NWBFile</span>
<span class="sd">        The NWB file object to search in.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    ret : list</span>
<span class="sd">        A list of all ElectricalSeries in the acquisition group of an NWB file</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">ret</span> <span class="o">=</span> <span class="p">[]</span>
    <span class="k">for</span> <span class="n">nwb_object</span> <span class="ow">in</span> <span class="n">nwbfile</span><span class="o">.</span><span class="n">acquisition</span><span class="o">.</span><span class="n">values</span><span class="p">():</span>
        <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nwb_object</span><span class="p">,</span> <span class="n">pynwb</span><span class="o">.</span><span class="n">ecephys</span><span class="o">.</span><span class="n">ElectricalSeries</span><span class="p">):</span>
            <span class="n">ret</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">nwb_object</span><span class="p">)</span>
        <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nwb_object</span><span class="p">,</span> <span class="n">pynwb</span><span class="o">.</span><span class="n">ecephys</span><span class="o">.</span><span class="n">LFP</span><span class="p">):</span>
            <span class="n">ret</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="n">nwb_object</span><span class="o">.</span><span class="n">electrical_series</span><span class="o">.</span><span class="n">values</span><span class="p">())</span>
    <span class="k">return</span> <span class="n">ret</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>






<div class="doc doc-object doc-function">



<h2 id="src.spyglass.utils.nwb_helper_fn.estimate_sampling_rate" class="doc doc-heading">
<code class="highlight language-python"><span class="n">estimate_sampling_rate</span><span class="p">(</span><span class="n">timestamps</span><span class="p">,</span> <span class="n">multiplier</span><span class="p">)</span></code>

<a href="#src.spyglass.utils.nwb_helper_fn.estimate_sampling_rate" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
  
      <p>Estimate the sampling rate given a list of timestamps.</p>
<p>Assumes that the most common temporal differences between timestamps approximate the sampling rate. Note that this
can fail for very high sampling rates and irregular timestamps.</p>
<h4 id="src.spyglass.utils.nwb_helper_fn.estimate_sampling_rate--parameters">Parameters<a class="headerlink" href="#src.spyglass.utils.nwb_helper_fn.estimate_sampling_rate--parameters" title="Permanent link">&para;</a></h4>

<details class="timestamps-" open>
  <summary>numpy.ndarray</summary>
  <p>1D numpy array of timestamp values.</p>
</details>      <p>multiplier : float or int</p>
<h4 id="src.spyglass.utils.nwb_helper_fn.estimate_sampling_rate--returns">Returns<a class="headerlink" href="#src.spyglass.utils.nwb_helper_fn.estimate_sampling_rate--returns" title="Permanent link">&para;</a></h4>

<details class="estimated_rate-" open>
  <summary>float</summary>
  <p>The estimated sampling rate.</p>
</details>
      <details class="quote">
        <summary>Source code in <code>src/spyglass/utils/nwb_helper_fn.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">164</span>
<span class="normal">165</span>
<span class="normal">166</span>
<span class="normal">167</span>
<span class="normal">168</span>
<span class="normal">169</span>
<span class="normal">170</span>
<span class="normal">171</span>
<span class="normal">172</span>
<span class="normal">173</span>
<span class="normal">174</span>
<span class="normal">175</span>
<span class="normal">176</span>
<span class="normal">177</span>
<span class="normal">178</span>
<span class="normal">179</span>
<span class="normal">180</span>
<span class="normal">181</span>
<span class="normal">182</span>
<span class="normal">183</span>
<span class="normal">184</span>
<span class="normal">185</span>
<span class="normal">186</span>
<span class="normal">187</span>
<span class="normal">188</span>
<span class="normal">189</span>
<span class="normal">190</span>
<span class="normal">191</span>
<span class="normal">192</span>
<span class="normal">193</span>
<span class="normal">194</span>
<span class="normal">195</span>
<span class="normal">196</span>
<span class="normal">197</span>
<span class="normal">198</span>
<span class="normal">199</span>
<span class="normal">200</span>
<span class="normal">201</span>
<span class="normal">202</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">estimate_sampling_rate</span><span class="p">(</span><span class="n">timestamps</span><span class="p">,</span> <span class="n">multiplier</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Estimate the sampling rate given a list of timestamps.</span>

<span class="sd">    Assumes that the most common temporal differences between timestamps approximate the sampling rate. Note that this</span>
<span class="sd">    can fail for very high sampling rates and irregular timestamps.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    timestamps : numpy.ndarray</span>
<span class="sd">        1D numpy array of timestamp values.</span>
<span class="sd">    multiplier : float or int</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    estimated_rate : float</span>
<span class="sd">        The estimated sampling rate.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="c1"># approach:</span>
    <span class="c1"># 1. use a box car smoother and a histogram to get the modal value</span>
    <span class="c1"># 2. identify adjacent samples as those that have a time difference &lt; the multiplier * the modal value</span>
    <span class="c1"># 3. average the time differences between adjacent samples</span>
    <span class="n">sample_diff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">timestamps</span><span class="p">[</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">timestamps</span><span class="p">)])</span>
    <span class="k">if</span> <span class="nb">len</span><span class="p">(</span><span class="n">sample_diff</span><span class="p">)</span> <span class="o">&lt;</span> <span class="mi">10</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span>
            <span class="sa">f</span><span class="s2">&quot;Only </span><span class="si">{</span><span class="nb">len</span><span class="p">(</span><span class="n">sample_diff</span><span class="p">)</span><span class="si">}</span><span class="s2"> timestamps are valid. Check the data.&quot;</span>
        <span class="p">)</span>
    <span class="n">nsmooth</span> <span class="o">=</span> <span class="mi">10</span>
    <span class="n">smoother</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">ones</span><span class="p">(</span><span class="n">nsmooth</span><span class="p">)</span> <span class="o">/</span> <span class="n">nsmooth</span>
    <span class="n">smooth_diff</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">convolve</span><span class="p">(</span><span class="n">sample_diff</span><span class="p">,</span> <span class="n">smoother</span><span class="p">,</span> <span class="n">mode</span><span class="o">=</span><span class="s2">&quot;same&quot;</span><span class="p">)</span>

    <span class="c1"># we histogram with 100 bins out to 3 * mean, which should be fine for any reasonable number of samples</span>
    <span class="n">hist</span><span class="p">,</span> <span class="n">bins</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">histogram</span><span class="p">(</span>
        <span class="n">smooth_diff</span><span class="p">,</span> <span class="n">bins</span><span class="o">=</span><span class="mi">100</span><span class="p">,</span> <span class="nb">range</span><span class="o">=</span><span class="p">[</span><span class="mi">0</span><span class="p">,</span> <span class="mi">3</span> <span class="o">*</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">smooth_diff</span><span class="p">)]</span>
    <span class="p">)</span>
    <span class="n">mode</span> <span class="o">=</span> <span class="n">bins</span><span class="p">[</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">hist</span> <span class="o">==</span> <span class="n">np</span><span class="o">.</span><span class="n">max</span><span class="p">(</span><span class="n">hist</span><span class="p">))]</span>

    <span class="n">adjacent</span> <span class="o">=</span> <span class="n">sample_diff</span> <span class="o">&lt;</span> <span class="n">mode</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span> <span class="o">*</span> <span class="n">multiplier</span>
    <span class="k">return</span> <span class="n">np</span><span class="o">.</span><span class="n">round</span><span class="p">(</span><span class="mf">1.0</span> <span class="o">/</span> <span class="n">np</span><span class="o">.</span><span class="n">mean</span><span class="p">(</span><span class="n">sample_diff</span><span class="p">[</span><span class="n">adjacent</span><span class="p">]))</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>






<div class="doc doc-object doc-function">



<h2 id="src.spyglass.utils.nwb_helper_fn.get_valid_intervals" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_valid_intervals</span><span class="p">(</span><span class="n">timestamps</span><span class="p">,</span> <span class="n">sampling_rate</span><span class="p">,</span> <span class="n">gap_proportion</span><span class="p">,</span> <span class="n">min_valid_len</span><span class="p">)</span></code>

<a href="#src.spyglass.utils.nwb_helper_fn.get_valid_intervals" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
  
      <p>Finds the set of all valid intervals in a list of timestamps.
Valid interval: (start time, stop time) during which there are
no gaps (i.e. missing samples).</p>
<h4 id="src.spyglass.utils.nwb_helper_fn.get_valid_intervals--parameters">Parameters<a class="headerlink" href="#src.spyglass.utils.nwb_helper_fn.get_valid_intervals--parameters" title="Permanent link">&para;</a></h4>

<details class="timestamps-" open>
  <summary>numpy.ndarray</summary>
  <p>1D numpy array of timestamp values.</p>
</details>
<details class="sampling_rate-" open>
  <summary>float</summary>
  <p>Sampling rate of the data.</p>
</details>
<details class="gap_proportion-" open>
  <summary>float, greater than 1; unit: samples</summary>
  <p>Threshold for detecting a gap;
i.e. if the difference (in samples) between
consecutive timestamps exceeds gap_proportion,
it is considered a gap</p>
</details>
<details class="min_valid_len-" open>
  <summary>float</summary>
  <p>Length of smallest valid interval.</p>
</details>      <h4 id="src.spyglass.utils.nwb_helper_fn.get_valid_intervals--returns">Returns<a class="headerlink" href="#src.spyglass.utils.nwb_helper_fn.get_valid_intervals--returns" title="Permanent link">&para;</a></h4>

<details class="valid_times-" open>
  <summary>np.ndarray</summary>
  <p>Array of start and stop times of shape (N, 2) for valid data.</p>
</details>
      <details class="quote">
        <summary>Source code in <code>src/spyglass/utils/nwb_helper_fn.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">205</span>
<span class="normal">206</span>
<span class="normal">207</span>
<span class="normal">208</span>
<span class="normal">209</span>
<span class="normal">210</span>
<span class="normal">211</span>
<span class="normal">212</span>
<span class="normal">213</span>
<span class="normal">214</span>
<span class="normal">215</span>
<span class="normal">216</span>
<span class="normal">217</span>
<span class="normal">218</span>
<span class="normal">219</span>
<span class="normal">220</span>
<span class="normal">221</span>
<span class="normal">222</span>
<span class="normal">223</span>
<span class="normal">224</span>
<span class="normal">225</span>
<span class="normal">226</span>
<span class="normal">227</span>
<span class="normal">228</span>
<span class="normal">229</span>
<span class="normal">230</span>
<span class="normal">231</span>
<span class="normal">232</span>
<span class="normal">233</span>
<span class="normal">234</span>
<span class="normal">235</span>
<span class="normal">236</span>
<span class="normal">237</span>
<span class="normal">238</span>
<span class="normal">239</span>
<span class="normal">240</span>
<span class="normal">241</span>
<span class="normal">242</span>
<span class="normal">243</span>
<span class="normal">244</span>
<span class="normal">245</span>
<span class="normal">246</span>
<span class="normal">247</span>
<span class="normal">248</span>
<span class="normal">249</span>
<span class="normal">250</span>
<span class="normal">251</span>
<span class="normal">252</span>
<span class="normal">253</span>
<span class="normal">254</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_valid_intervals</span><span class="p">(</span><span class="n">timestamps</span><span class="p">,</span> <span class="n">sampling_rate</span><span class="p">,</span> <span class="n">gap_proportion</span><span class="p">,</span> <span class="n">min_valid_len</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Finds the set of all valid intervals in a list of timestamps.</span>
<span class="sd">    Valid interval: (start time, stop time) during which there are</span>
<span class="sd">    no gaps (i.e. missing samples).</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    timestamps : numpy.ndarray</span>
<span class="sd">        1D numpy array of timestamp values.</span>
<span class="sd">    sampling_rate : float</span>
<span class="sd">        Sampling rate of the data.</span>
<span class="sd">    gap_proportion : float, greater than 1; unit: samples</span>
<span class="sd">        Threshold for detecting a gap;</span>
<span class="sd">        i.e. if the difference (in samples) between</span>
<span class="sd">        consecutive timestamps exceeds gap_proportion,</span>
<span class="sd">        it is considered a gap</span>
<span class="sd">    min_valid_len : float</span>
<span class="sd">        Length of smallest valid interval.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    valid_times : np.ndarray</span>
<span class="sd">        Array of start and stop times of shape (N, 2) for valid data.</span>
<span class="sd">    &quot;&quot;&quot;</span>

    <span class="n">eps</span> <span class="o">=</span> <span class="mf">0.0000001</span>

    <span class="c1"># get rid of NaN elements</span>
    <span class="n">timestamps</span> <span class="o">=</span> <span class="n">timestamps</span><span class="p">[</span><span class="o">~</span><span class="n">np</span><span class="o">.</span><span class="n">isnan</span><span class="p">(</span><span class="n">timestamps</span><span class="p">)]</span>
    <span class="c1"># find gaps</span>
    <span class="n">gap</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">diff</span><span class="p">(</span><span class="n">timestamps</span><span class="p">)</span> <span class="o">&gt;</span> <span class="mf">1.0</span> <span class="o">/</span> <span class="n">sampling_rate</span> <span class="o">*</span> <span class="n">gap_proportion</span>

    <span class="c1"># all true entries of gap represent gaps. Get the times bounding these intervals.</span>
    <span class="n">gapind</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">np</span><span class="o">.</span><span class="n">where</span><span class="p">(</span><span class="n">gap</span><span class="p">))</span>
    <span class="c1"># The end of each valid interval are the indices of the gaps and the final value</span>
    <span class="n">valid_end</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">gapind</span><span class="p">,</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">timestamps</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>

    <span class="c1"># the beginning of the gaps are the first element and gapind+1</span>
    <span class="n">valid_start</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="n">gapind</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>

    <span class="n">valid_indices</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">vstack</span><span class="p">([</span><span class="n">valid_start</span><span class="p">,</span> <span class="n">valid_end</span><span class="p">])</span><span class="o">.</span><span class="n">transpose</span><span class="p">()</span>

    <span class="n">valid_times</span> <span class="o">=</span> <span class="n">timestamps</span><span class="p">[</span><span class="n">valid_indices</span><span class="p">]</span>
    <span class="c1"># adjust the times to deal with single valid samples</span>
    <span class="n">valid_times</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">=</span> <span class="n">valid_times</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">]</span> <span class="o">-</span> <span class="n">eps</span>
    <span class="n">valid_times</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">=</span> <span class="n">valid_times</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">+</span> <span class="n">eps</span>

    <span class="n">valid_intervals</span> <span class="o">=</span> <span class="p">(</span><span class="n">valid_times</span><span class="p">[:,</span> <span class="mi">1</span><span class="p">]</span> <span class="o">-</span> <span class="n">valid_times</span><span class="p">[:,</span> <span class="mi">0</span><span class="p">])</span> <span class="o">&gt;</span> <span class="n">min_valid_len</span>

    <span class="k">return</span> <span class="n">valid_times</span><span class="p">[</span><span class="n">valid_intervals</span><span class="p">,</span> <span class="p">:]</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>






<div class="doc doc-object doc-function">



<h2 id="src.spyglass.utils.nwb_helper_fn.get_electrode_indices" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_electrode_indices</span><span class="p">(</span><span class="n">nwb_object</span><span class="p">,</span> <span class="n">electrode_ids</span><span class="p">)</span></code>

<a href="#src.spyglass.utils.nwb_helper_fn.get_electrode_indices" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
  
      <p>Given an NWB file or electrical series object, return the indices of the specified electrode_ids.</p>
<p>If an ElectricalSeries is given, then the indices returned are relative to the selected rows in
ElectricalSeries.electrodes. For example, if electricalseries.electrodes = [5], and row index 5 of
nwbfile.electrodes has ID 10, then calling get_electrode_indices(electricalseries, 10) will return 0, the
index of the matching electrode in electricalseries.electrodes.</p>
<p>Indices for electrode_ids that are not in the electrical series are returned as np.nan</p>
<p>If an NWBFile is given, then the row indices with the matching IDs in the file's electrodes table are returned.</p>
<h4 id="src.spyglass.utils.nwb_helper_fn.get_electrode_indices--parameters">Parameters<a class="headerlink" href="#src.spyglass.utils.nwb_helper_fn.get_electrode_indices--parameters" title="Permanent link">&para;</a></h4>

<details class="nwb_object-" open>
  <summary>pynwb.NWBFile or pynwb.ecephys.ElectricalSeries</summary>
  <p>The NWB file object or NWB electrical series object.</p>
</details>
<details class="electrode_ids-" open>
  <summary>np.ndarray or list</summary>
  <p>Array or list of electrode IDs.</p>
</details>      <h4 id="src.spyglass.utils.nwb_helper_fn.get_electrode_indices--returns">Returns<a class="headerlink" href="#src.spyglass.utils.nwb_helper_fn.get_electrode_indices--returns" title="Permanent link">&para;</a></h4>

<details class="electrode_indices-" open>
  <summary>list</summary>
  <p>Array of indices of the specified electrode IDs.</p>
</details>
      <details class="quote">
        <summary>Source code in <code>src/spyglass/utils/nwb_helper_fn.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">257</span>
<span class="normal">258</span>
<span class="normal">259</span>
<span class="normal">260</span>
<span class="normal">261</span>
<span class="normal">262</span>
<span class="normal">263</span>
<span class="normal">264</span>
<span class="normal">265</span>
<span class="normal">266</span>
<span class="normal">267</span>
<span class="normal">268</span>
<span class="normal">269</span>
<span class="normal">270</span>
<span class="normal">271</span>
<span class="normal">272</span>
<span class="normal">273</span>
<span class="normal">274</span>
<span class="normal">275</span>
<span class="normal">276</span>
<span class="normal">277</span>
<span class="normal">278</span>
<span class="normal">279</span>
<span class="normal">280</span>
<span class="normal">281</span>
<span class="normal">282</span>
<span class="normal">283</span>
<span class="normal">284</span>
<span class="normal">285</span>
<span class="normal">286</span>
<span class="normal">287</span>
<span class="normal">288</span>
<span class="normal">289</span>
<span class="normal">290</span>
<span class="normal">291</span>
<span class="normal">292</span>
<span class="normal">293</span>
<span class="normal">294</span>
<span class="normal">295</span>
<span class="normal">296</span>
<span class="normal">297</span>
<span class="normal">298</span>
<span class="normal">299</span>
<span class="normal">300</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_electrode_indices</span><span class="p">(</span><span class="n">nwb_object</span><span class="p">,</span> <span class="n">electrode_ids</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Given an NWB file or electrical series object, return the indices of the specified electrode_ids.</span>

<span class="sd">    If an ElectricalSeries is given, then the indices returned are relative to the selected rows in</span>
<span class="sd">    ElectricalSeries.electrodes. For example, if electricalseries.electrodes = [5], and row index 5 of</span>
<span class="sd">    nwbfile.electrodes has ID 10, then calling get_electrode_indices(electricalseries, 10) will return 0, the</span>
<span class="sd">    index of the matching electrode in electricalseries.electrodes.</span>

<span class="sd">    Indices for electrode_ids that are not in the electrical series are returned as np.nan</span>

<span class="sd">    If an NWBFile is given, then the row indices with the matching IDs in the file&#39;s electrodes table are returned.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    nwb_object : pynwb.NWBFile or pynwb.ecephys.ElectricalSeries</span>
<span class="sd">        The NWB file object or NWB electrical series object.</span>
<span class="sd">    electrode_ids : np.ndarray or list</span>
<span class="sd">        Array or list of electrode IDs.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    electrode_indices : list</span>
<span class="sd">        Array of indices of the specified electrode IDs.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="k">if</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nwb_object</span><span class="p">,</span> <span class="n">pynwb</span><span class="o">.</span><span class="n">ecephys</span><span class="o">.</span><span class="n">ElectricalSeries</span><span class="p">):</span>
        <span class="c1"># electrodes is a DynamicTableRegion which may contain a subset of the rows in NWBFile.electrodes</span>
        <span class="c1"># match against only the subset of electrodes referenced by this ElectricalSeries</span>
        <span class="n">electrode_table_indices</span> <span class="o">=</span> <span class="n">nwb_object</span><span class="o">.</span><span class="n">electrodes</span><span class="o">.</span><span class="n">data</span><span class="p">[:]</span>
        <span class="n">selected_elect_ids</span> <span class="o">=</span> <span class="p">[</span>
            <span class="n">nwb_object</span><span class="o">.</span><span class="n">electrodes</span><span class="o">.</span><span class="n">table</span><span class="o">.</span><span class="n">id</span><span class="p">[</span><span class="n">x</span><span class="p">]</span> <span class="k">for</span> <span class="n">x</span> <span class="ow">in</span> <span class="n">electrode_table_indices</span>
        <span class="p">]</span>
    <span class="k">elif</span> <span class="nb">isinstance</span><span class="p">(</span><span class="n">nwb_object</span><span class="p">,</span> <span class="n">pynwb</span><span class="o">.</span><span class="n">NWBFile</span><span class="p">):</span>
        <span class="c1"># electrodes is a DynamicTable that contains all electrodes</span>
        <span class="n">selected_elect_ids</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">nwb_object</span><span class="o">.</span><span class="n">electrodes</span><span class="o">.</span><span class="n">id</span><span class="p">[:])</span>
    <span class="k">else</span><span class="p">:</span>
        <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="s2">&quot;nwb_object must be of type ElectricalSeries or NWBFile&quot;</span><span class="p">)</span>

    <span class="c1"># for each electrode_id, find its index in selected_elect_ids and return that if it&#39;s there and invalid_electrode_index if not.</span>
    <span class="k">return</span> <span class="p">[</span>
        <span class="n">selected_elect_ids</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">elect_id</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">elect_id</span> <span class="ow">in</span> <span class="n">selected_elect_ids</span>
        <span class="k">else</span> <span class="n">invalid_electrode_index</span>
        <span class="k">for</span> <span class="n">elect_id</span> <span class="ow">in</span> <span class="n">electrode_ids</span>
    <span class="p">]</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>






<div class="doc doc-object doc-function">



<h2 id="src.spyglass.utils.nwb_helper_fn.get_all_spatial_series" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_all_spatial_series</span><span class="p">(</span><span class="n">nwbf</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">)</span></code>

<a href="#src.spyglass.utils.nwb_helper_fn.get_all_spatial_series" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
  
      <p>Given an NWBFile, get the spatial series and interval lists from the file and return a dictionary by epoch.</p>
<h4 id="src.spyglass.utils.nwb_helper_fn.get_all_spatial_series--parameters">Parameters<a class="headerlink" href="#src.spyglass.utils.nwb_helper_fn.get_all_spatial_series--parameters" title="Permanent link">&para;</a></h4>

<details class="nwbf-" open>
  <summary>pynwb.NWBFile</summary>
  <p>The source NWB file object.</p>
</details>
<details class="verbose-" open>
  <summary>bool</summary>
  <p>Flag representing whether to print the sampling rate.</p>
</details>      <h4 id="src.spyglass.utils.nwb_helper_fn.get_all_spatial_series--returns">Returns<a class="headerlink" href="#src.spyglass.utils.nwb_helper_fn.get_all_spatial_series--returns" title="Permanent link">&para;</a></h4>

<details class="pos_data_dict-" open>
  <summary>dict</summary>
  <p>Dict mapping indices to a dict with keys 'valid_times' and 'raw_position_object_id'. Returns None if there
is no position data in the file. The 'raw_position_object_id' is the object ID of the SpatialSeries object.</p>
</details>
      <details class="quote">
        <summary>Source code in <code>src/spyglass/utils/nwb_helper_fn.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">303</span>
<span class="normal">304</span>
<span class="normal">305</span>
<span class="normal">306</span>
<span class="normal">307</span>
<span class="normal">308</span>
<span class="normal">309</span>
<span class="normal">310</span>
<span class="normal">311</span>
<span class="normal">312</span>
<span class="normal">313</span>
<span class="normal">314</span>
<span class="normal">315</span>
<span class="normal">316</span>
<span class="normal">317</span>
<span class="normal">318</span>
<span class="normal">319</span>
<span class="normal">320</span>
<span class="normal">321</span>
<span class="normal">322</span>
<span class="normal">323</span>
<span class="normal">324</span>
<span class="normal">325</span>
<span class="normal">326</span>
<span class="normal">327</span>
<span class="normal">328</span>
<span class="normal">329</span>
<span class="normal">330</span>
<span class="normal">331</span>
<span class="normal">332</span>
<span class="normal">333</span>
<span class="normal">334</span>
<span class="normal">335</span>
<span class="normal">336</span>
<span class="normal">337</span>
<span class="normal">338</span>
<span class="normal">339</span>
<span class="normal">340</span>
<span class="normal">341</span>
<span class="normal">342</span>
<span class="normal">343</span>
<span class="normal">344</span>
<span class="normal">345</span>
<span class="normal">346</span>
<span class="normal">347</span>
<span class="normal">348</span>
<span class="normal">349</span>
<span class="normal">350</span>
<span class="normal">351</span>
<span class="normal">352</span>
<span class="normal">353</span>
<span class="normal">354</span>
<span class="normal">355</span>
<span class="normal">356</span>
<span class="normal">357</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_all_spatial_series</span><span class="p">(</span><span class="n">nwbf</span><span class="p">,</span> <span class="n">verbose</span><span class="o">=</span><span class="kc">False</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Given an NWBFile, get the spatial series and interval lists from the file and return a dictionary by epoch.</span>

<span class="sd">    Parameters</span>
<span class="sd">    ----------</span>
<span class="sd">    nwbf : pynwb.NWBFile</span>
<span class="sd">        The source NWB file object.</span>
<span class="sd">    verbose : bool</span>
<span class="sd">        Flag representing whether to print the sampling rate.</span>

<span class="sd">    Returns</span>
<span class="sd">    -------</span>
<span class="sd">    pos_data_dict : dict</span>
<span class="sd">        Dict mapping indices to a dict with keys &#39;valid_times&#39; and &#39;raw_position_object_id&#39;. Returns None if there</span>
<span class="sd">        is no position data in the file. The &#39;raw_position_object_id&#39; is the object ID of the SpatialSeries object.</span>
<span class="sd">    &quot;&quot;&quot;</span>
    <span class="n">position</span> <span class="o">=</span> <span class="n">get_data_interface</span><span class="p">(</span><span class="n">nwbf</span><span class="p">,</span> <span class="s2">&quot;position&quot;</span><span class="p">,</span> <span class="n">pynwb</span><span class="o">.</span><span class="n">behavior</span><span class="o">.</span><span class="n">Position</span><span class="p">)</span>
    <span class="k">if</span> <span class="n">position</span> <span class="ow">is</span> <span class="kc">None</span><span class="p">:</span>
        <span class="k">return</span> <span class="kc">None</span>

    <span class="c1"># for some reason the spatial_series do not necessarily come out in order, so we need to figure out the right order</span>
    <span class="n">epoch_start_time</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">zeros</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">position</span><span class="o">.</span><span class="n">spatial_series</span><span class="o">.</span><span class="n">values</span><span class="p">()))</span>
    <span class="k">for</span> <span class="n">pos_epoch</span><span class="p">,</span> <span class="n">spatial_series</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">position</span><span class="o">.</span><span class="n">spatial_series</span><span class="o">.</span><span class="n">values</span><span class="p">()):</span>
        <span class="n">epoch_start_time</span><span class="p">[</span><span class="n">pos_epoch</span><span class="p">]</span> <span class="o">=</span> <span class="n">spatial_series</span><span class="o">.</span><span class="n">timestamps</span><span class="p">[</span><span class="mi">0</span><span class="p">]</span>

    <span class="n">sorted_order</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">argsort</span><span class="p">(</span><span class="n">epoch_start_time</span><span class="p">)</span>
    <span class="n">pos_data_dict</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>

    <span class="k">for</span> <span class="n">index</span><span class="p">,</span> <span class="n">orig_epoch</span> <span class="ow">in</span> <span class="nb">enumerate</span><span class="p">(</span><span class="n">sorted_order</span><span class="p">):</span>
        <span class="n">spatial_series</span> <span class="o">=</span> <span class="nb">list</span><span class="p">(</span><span class="n">position</span><span class="o">.</span><span class="n">spatial_series</span><span class="o">.</span><span class="n">values</span><span class="p">())[</span><span class="n">orig_epoch</span><span class="p">]</span>
        <span class="n">pos_data_dict</span><span class="p">[</span><span class="n">index</span><span class="p">]</span> <span class="o">=</span> <span class="nb">dict</span><span class="p">()</span>
        <span class="c1"># get the valid intervals for the position data</span>
        <span class="n">timestamps</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">spatial_series</span><span class="o">.</span><span class="n">timestamps</span><span class="p">)</span>

        <span class="c1"># estimate the sampling rate</span>
        <span class="n">timestamps</span> <span class="o">=</span> <span class="n">np</span><span class="o">.</span><span class="n">asarray</span><span class="p">(</span><span class="n">spatial_series</span><span class="o">.</span><span class="n">timestamps</span><span class="p">)</span>
        <span class="n">sampling_rate</span> <span class="o">=</span> <span class="n">estimate_sampling_rate</span><span class="p">(</span><span class="n">timestamps</span><span class="p">,</span> <span class="mf">1.75</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">sampling_rate</span> <span class="o">&lt;</span> <span class="mi">0</span><span class="p">:</span>
            <span class="k">raise</span> <span class="ne">ValueError</span><span class="p">(</span><span class="sa">f</span><span class="s2">&quot;Error adding position data for position epoch </span><span class="si">{</span><span class="n">index</span><span class="si">}</span><span class="s2">&quot;</span><span class="p">)</span>
        <span class="k">if</span> <span class="n">verbose</span><span class="p">:</span>
            <span class="nb">print</span><span class="p">(</span>
                <span class="s2">&quot;Processing raw position data. Estimated sampling rate: </span><span class="si">{}</span><span class="s2"> Hz&quot;</span><span class="o">.</span><span class="n">format</span><span class="p">(</span>
                    <span class="n">sampling_rate</span>
                <span class="p">)</span>
            <span class="p">)</span>
        <span class="c1"># add the valid intervals to the Interval list</span>
        <span class="n">pos_data_dict</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">&quot;valid_times&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">get_valid_intervals</span><span class="p">(</span>
            <span class="n">timestamps</span><span class="p">,</span>
            <span class="n">sampling_rate</span><span class="p">,</span>
            <span class="n">gap_proportion</span><span class="o">=</span><span class="mf">2.5</span><span class="p">,</span>
            <span class="n">min_valid_len</span><span class="o">=</span><span class="nb">int</span><span class="p">(</span><span class="n">sampling_rate</span><span class="p">),</span>
        <span class="p">)</span>
        <span class="n">pos_data_dict</span><span class="p">[</span><span class="n">index</span><span class="p">][</span><span class="s2">&quot;raw_position_object_id&quot;</span><span class="p">]</span> <span class="o">=</span> <span class="n">spatial_series</span><span class="o">.</span><span class="n">object_id</span>

    <span class="k">return</span> <span class="n">pos_data_dict</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>






<div class="doc doc-object doc-function">



<h2 id="src.spyglass.utils.nwb_helper_fn.get_nwb_copy_filename" class="doc doc-heading">
<code class="highlight language-python"><span class="n">get_nwb_copy_filename</span><span class="p">(</span><span class="n">nwb_file_name</span><span class="p">)</span></code>

<a href="#src.spyglass.utils.nwb_helper_fn.get_nwb_copy_filename" class="headerlink" title="Permanent link">&para;</a></h2>


  <div class="doc doc-contents ">
  
      <p>Get file name of copy of nwb file without the electrophys data</p>

      <details class="quote">
        <summary>Source code in <code>src/spyglass/utils/nwb_helper_fn.py</code></summary>
        <div class="highlight"><table class="highlighttable"><tr><td class="linenos"><div class="linenodiv"><pre><span></span><span class="normal">360</span>
<span class="normal">361</span>
<span class="normal">362</span>
<span class="normal">363</span>
<span class="normal">364</span>
<span class="normal">365</span></pre></div></td><td class="code"><div><pre><span></span><code><span class="k">def</span> <span class="nf">get_nwb_copy_filename</span><span class="p">(</span><span class="n">nwb_file_name</span><span class="p">):</span>
<span class="w">    </span><span class="sd">&quot;&quot;&quot;Get file name of copy of nwb file without the electrophys data&quot;&quot;&quot;</span>

    <span class="n">filename</span><span class="p">,</span> <span class="n">file_extension</span> <span class="o">=</span> <span class="n">os</span><span class="o">.</span><span class="n">path</span><span class="o">.</span><span class="n">splitext</span><span class="p">(</span><span class="n">nwb_file_name</span><span class="p">)</span>

    <span class="k">return</span> <span class="sa">f</span><span class="s2">&quot;</span><span class="si">{</span><span class="n">filename</span><span class="si">}</span><span class="s2">_</span><span class="si">{</span><span class="n">file_extension</span><span class="si">}</span><span class="s2">&quot;</span>
</code></pre></div></td></tr></table></div>
      </details>
  </div>

</div>




  </div>

  </div>

</div>





                
              </article>
            </div>
          
          
        </div>
        
          <button type="button" class="md-top md-icon" data-md-component="top" hidden>
            <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 24 24"><path d="M13 20h-2V8l-5.5 5.5-1.42-1.42L12 4.16l7.92 7.92-1.42 1.42L13 8v12Z"/></svg>
            Back to top
          </button>
        
      </main>
      
        <footer class="md-footer">
  
  <div class="md-footer-meta md-typeset">
    <div class="md-footer-meta__inner md-grid">
      <div class="md-copyright">
  
  
</div>
      
    </div>
  </div>
</footer>
      
    </div>
    <div class="md-dialog" data-md-component="dialog">
      <div class="md-dialog__inner md-typeset"></div>
    </div>
    
    <script id="__config" type="application/json">{"base": "../../../../..", "features": ["navigation.instant", "navigation.tracking", "navigation.top", "search.suggest", "search.share"], "search": "../../../../../assets/javascripts/workers/search.208ed371.min.js", "translations": {"clipboard.copied": "Copied to clipboard", "clipboard.copy": "Copy to clipboard", "search.result.more.one": "1 more on this page", "search.result.more.other": "# more on this page", "search.result.none": "No matching documents", "search.result.one": "1 matching document", "search.result.other": "# matching documents", "search.result.placeholder": "Type to start searching", "search.result.term.missing": "Missing", "select.version": "Select version"}, "version": {"provider": "mike"}}</script>
    
    
      <script src="../../../../../assets/javascripts/bundle.b4d07000.min.js"></script>
      
    
  </body>
</html>